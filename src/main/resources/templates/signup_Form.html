<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>WWW - Sign Up</title>
    <!-- 파비콘 및 메타 데이터 설정 -->
    <link rel="apple-touch-icon" th:href="@{/favicon/apple-touch-icon.png}" sizes="180x180">
    <link rel="icon" type="image/png" th:href="@{/favicon/favicon-32x32.png}" sizes="32x32">
    <link rel="icon" type="image/png" th:href="@{/favicon/favicon-16x16.png}" sizes="16x16">
    <link rel="manifest" th:href="@{/favicon/site.webmanifest}">
    <link rel="mask-icon" th:href="@{/favicon/safari-pinned-tab.svg}" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">
    <!-- 파비콘 끝 -->
    <link rel="stylesheet" href="/style/reset.css" th:href="@{/style/reset.css}" />
    <link rel="stylesheet" href="/style/common.css" th:href="@{/style/common.css}">
    <link rel="stylesheet" href="/style/login_form.css" th:href="@{/style/signup_form.css}">
</head>

<body class="body">
    <div id="left" class="signup_img">
        <img th:src="@{/images/signup_left_image.png}">
    </div>
    <div id="right" class="signup_form">
        <div class="form">
            <form method="POST" action="/signup">
                <hidden value="create"></hidden>
                <input type="text" name="name" class="input" placeholder="이름" required><br>
                <input type="password" name="password" class="input" placeholder="패스워드" required><br>
                <input type="email" name="email" class="input" placeholder="Email" required><br>
                <section class="address">
                    <input type="text" name="addr" id="address" class="input" placeholder="주소" required>
                    <button onclick="searchAddr()" value="주소 찾기" class="btn-address">주소 찾기</button>
                </section>
                <input type="submit" value="확인" class="btn-signup">
                <button class="btn-ref"><a th:href="${referer}" style="text-decoration: none">뒤로가기</a></button>
            </form>
        </div>
    </div>

    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        function searchAddr() {
            new daum.Postcode({
                oncomplete: function (data) {
                    // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                    // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                    // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                    var addr = ''; // 주소 변수

                    //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                    if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                        addr = data.roadAddress;
                    } else { // 사용자가 지번 주소를 선택했을 경우(J)
                        addr = data.jibunAddress;
                    }

                    // 주소 정보를 해당 필드에 넣는다.
                    document.getElementById("address").value = addr;
                }
            }).open();
        }
    </script>
</body>

</html>